<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>DOM查询</title>
		<link rel="stylesheet" type="text/css" href="css/css.css" />
		<script>
			
			/*
			 * 定义一个函数，专门来为指定元素绑定单击响应函数
			 * 参数：
			 * 		idStr 要绑定单击响应函数的对象的id属性值
			 * 		fun   表示事件的回调函数，当单击函数时，该函数将会被触发
			 */
			function myClick(idStr , fun){
				var btn = document.getElementById(idStr);
				btn.onclick = fun;
				
			}
			
			
			
			
			
			
			
			
			window.onload = function(){
				
				
				//为id为btn01的按钮添加一个单击响应函数
				var btn01 = document.getElementById("btn01");
				btn01.onclick = function(){
					//查找#bj的节点
					var bj = document.getElementById("bj");
					//打印bj
					//innerHTML 通过这个属性可以获取到元素内部的html代码
					alert(bj.innerHTML);	
				};
				
				
				//为id为btn02的按钮添加一个单击响应函数
				var btn02 = document.getElementById("btn02");
				btn02.onclick = function(){
					//查找所有li节点
					//getElementsByTagName()可以根据标签来获取一组元素节点对象
					//这个方法会返回一个类数组对象，所有查询到的结果会封装到一个数组中
					//即使查询到的结果只有一个，也会封装到数组中返回
					var lis = document.getElementsByTagName("li");
					
					//打印lis
					//alert(lis.length);
					
					//遍历数组
					for(var i=0;i<lis.length;i++){
						alert(lis[i].innerHTML);
					}
				};
				
				
				//为id为btn03的按钮添加一个单击响应函数
				var btn03 = document.getElementById("btn03");
				btn03.onclick = function(){
					//查询name=gender的所有节点
					var inputs = document.getElementsByName("gender");
					//alert(inputs.length);
					for(var i=0;i<inputs.length;i++){
						/*
						 * innerHTML
						 * 用于获取元素内部的HTML代码
						 * 对于字节数标签，这个属性没有意义
						 */
						//alert(inputs[i].innerHTML);//没意义
						/*
						 * 如果要读取元素的节点属性
						 * 直接使用  元素.属性名
						 * 		例：元素.id 元素.name 元素.value
						 * 		注意：class属性不能采用这种方式
						 * 		需要使用元素.className
						 * 
						 */
						alert(inputs[i].className);
					}
				};
				
				
				//为id为btn04的按钮添加一个单击响应函数
				var btn04 = document.getElementById("btn04");
				btn04.onclick = function(){
					
					//获取id为city的元素
					var city = document.getElementById("city");
					
					//查找#city下所有li节点
					var lis = city.getElementsByTagName("li");
					
					for(var i=0;i<lis.length;i++){
						alert(lis[i].innerHTML);
					}
				};
				
				
				//为id为btn05的按钮添加一个单击响应函数
				var btn05 = document.getElementById("btn05");
				btn05.onclick = function(){
					
					//获取id为city的节点
					var city = document.getElementById("city");
					
					//返回#city的所有子节点
					/*
					 * childNodes这个属性会获取包括文本节点在内的所有节点
					 * 根据DOM标准，标签中的空白也会被当成文本节点
					 * 注意：IE8及以下的浏览器不会将空白当成文本节点
					 * 所以该属性在IE8中会返回4个子元素，而其他浏览器是9个子元素
					 */
					var cns = city.childNodes;
					//alert(cns.length);
					
					/*for(var i=0;i<cns.length;i++){
						alert(cns[i].innerHTML);
					}*/
					
					/*
					 * children属性可以获取当前元素的所有子元素
					 */
					var cns2 =city.children;
					//alert(cns2.length);
					for(var i=0;i<cns2.length;i++){
						alert(cns2[i].innerHTML);
					}
				};
				
				
				//为id为btn06的按钮添加一个单击响应函数
				var btn06 = document.getElementById("btn06");
				btn06.onclick = function(){
					
					//获取id为phone的元素
					var phone = document.getElementById("phone");
					
					//返回#phone的第一个子节点
					var fir = phone.firstChild;
					
					/*
					 * firstChild可以获取当前元素的第一个子节点
					 * 包括空白文字节点
					 * 
					 * 注意：firstChild不支持IE8及以下的浏览器
					 * 
					 */
					fir = phone.firstElementChild;
					
					
					alert(fir.innerHTML);
					
				};
					
					
				//为id为btn07的按钮添加一个单击响应函数
				myClick("btn07",function(){
					
					//获取id为bj的节点
					var bj = document.getElementById("bj");
					
					//返回#bj的父节点
					var pn = bj.parentNode;
					//alert(pn.innerHTML);
					
					/*
					 * innerText
					 * 		该属性可以获取到元素内部的文本内容
					 * 		它和innerHTML类似，不同的是它会自动将html去除
					 */
					alert(pn.innerText);
					
				});
					
				
				//为id为btn08的按钮添加一个单击响应函数
			    myClick("btn08",function(){
			    	
			    	//获取id为android的元素
			    	var and = document.getElementById("android");
			    	
			    	//返回#android的前一个兄弟节点
			    	//previousSibling也会获取空白文本节点
			    	var ps = and.previousSibling;
			    	//previousElementSibling会获取前一个兄弟元素，不包括空白文本
			    	var pe = and.previousElementSibling;
			    	alert(pe.innerHTML);
			    	
			    });
			    
			    
			    //为id为btn09的按钮添加一个单击响应函数
			    myClick("btn09",function(){
			    	
			    	//获取id为username的元素
			    	var um1 = document.getElementById("username");
			    	
			    	//返回#username的value属性值
			    	//文本框的value属性值，就是文本框中填写的内容
			    	alert(um1.value);
			    });
			    
			    
			    //为id为btn10的按钮添加一个单击响应函数
			    myClick("btn10",function(){
			    	
			    	//获取id为username的元素
			    	var um2 = document.getElementById("username");
			    	
			    	//设置#username的value属性值
			    	um2.value = "今天天气真不错";
			    	
			    });
			    
			    
			    //为id为btn11的按钮添加一个单击响应函数
			    myClick("btn11",function(){
			    	
			    	//获取id为bj的元素
					var bj = document.getElementById("bj");
					
			    	//返回#bj的文本值
			    	//alert(bj.innerHTML);
			    	//alert(bj.innerText);
			    	
			    	/*
			    	 * 获取bj中的文本节点
			    	 */
			    	var fc = bj.firstChild;
			    	//alert(fc.nodeValue);
			    	
			    	//最常见的写法
			    	alert(bj.firstChild.nodeValue);
			    	
			    });
				
				
				
				
				
				
				
			};
			
			
		</script>
	</head>
	<body>
		<div id="totally">
			<div id="total" class="inner">
				
				<div class="inner1">
					<div id="div1">
						<p>你喜欢哪个城市?</p>
						<ul id="city">
							<li id="bj">北京</li>
							<li>上海</li>
							<li>广州</li>
							<li>深圳</li>
						</ul>
					</div>
					
					
					<div id="div2">
						<p>你喜欢玩哪个游戏?</p>
						<ul id="game">
							<li id="hj">红警</li>
							<li>堡垒</li>
							<li>穿越</li>
							<li>联盟</li>
						</ul>
					</div>
					
					
					<div id="div3">
						<p>你手机的操作系统是?</p>
						<ul id="phone">
							<li>IOS</li>
							<li id="android">Android</li>
							<li>Window Phone</li>
						</ul>
					</div>
				
				</div>
				
				
				<div class="inner2">
					<div id="div4">
						gender:
						<input class="hello" type="radio" name="gender" value="male" />
						Male
						<input class="hello" type="radio" name="gender" value="female" />
						Female
						<br />
						<br />
						name:
						<input type="text" name="name" id="username" value="abcde" />
					</div>
				</div>
				
			</div>	
				
				
				
			<div id="btnList" class="inner">
					<div><button id="btn01">查找#bj节点</button></div>
					<div><button id="btn02">查找所有li节点</button></div>
					<div><button id="btn03">查找name=gender的所有节点</button></div>
					<div><button id="btn04">查找#city下所有li节点</button></div>
					<div><button id="btn05">返回#city的所有子节点</button></div>
					<div><button id="btn06">返回#phone的第一个子节点</button></div>
					<div><button id="btn07">返回#bj的父节点</button></div>
					<div><button id="btn08">返回#android的前一个兄弟节点</button></div>
					<div><button id="btn09">返回#username的value属性值</button></div>
					<div><button id="btn10">设置#username的value属性值</button></div>
					<div><button id="btn11">返回#bj的文本值</button></div>
			</div>
		</div>
		
		
	</body>
</html>
